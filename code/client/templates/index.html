<!DOCTYPE html>
<script>
    function add_field()
    {
        var total_text=document.getElementsByClassName("input_text");
        total_text=total_text.length+1;
        field_div = document.getElementById("field_div");
        new_input = "<li id='input_text"+total_text+
        "_wrapper'><input type='text' class='input_text' name='input_text[]' id='input_text"+
        total_text+"' placeholder='Enter Text'></li>";
        field_div.insertAdjacentHTML('beforeend',new_input);
    }
    function remove_field()
    {
        var total_text=document.getElementsByClassName("input_text");
        document.getElementById("input_text"+total_text.length+"_wrapper").remove();
    }
</script>


<div class = "container">
  <h1>IPs</h1>
  <form action='http://{{my_add}}/upload_all' method="post">
    <div id="wrapper">
      <input type="button" value="Add TextBox" onclick="add_field();">
      <input type="button" value="Remove TextBox" onclick="remove_field();">
      <ol id="field_div">
        <script>
          var values = {{values|tojson}};
          for(var i = 0; i < values.length; i++) {
            var total_text=document.getElementsByClassName("input_text");
            total_text=total_text.length+1;
            field_div = document.getElementById("field_div");
            var value = values[i]
            console.log(value)
            new_input = "<li id='input_text"+total_text+
            "_wrapper'><input type='text' class='input_text' name='input_text[]' id='input_text"+
            total_text+"' value = '"+value+"'></li>";
            field_div.insertAdjacentHTML('beforeend',new_input);
          }
        </script>

      </ol>
    </div>
    <input type='submit' value='전송'>
  </form>
</div>